在平常写代码的时候，你是否思考过以下问题
- 进程与线程区别？JS 单线程带来的好处？
- 为什么js是单线程的，而不能是多线程？
- 为什么 setTimeout 会比 Promise 后执行,明明代码写在 Promise 之前？
- setTimeout(()=>{},0)的作用是什么？

这一章节我们会来详细地了解 Event Loop 相关知识，知道 JS 异步运行代码的原理
# 进程与线程
相信大家经常会听到 JS 是单线程执行的，但是你是否疑惑过什么是线程？
讲到线程，那么肯定也得说一下进程。本质上来说，两个名词都是 CPU 工作时间片的一个描述。
进程描述了 CPU 在运行指令及加载和保存上下文所需的时间，放在应用上来说就代表了一个程序。线程是进程中的更小单位，描述了执行一段指令所需的时间。

把这些概念拿到浏览器中来说，当你打开一个 Tab 页时，其实就是创建了一个进程，**一个进程中可以有多个线程**，比如**渲染线程**、**JS 引擎线程**、**HTTP 请求线程**等等。当你发起一个请求时，其实就是创建了一个线程，当请求结束后，该线程可能就会被销毁。

在 JS 运行的时候会阻止 UI 渲染，这说明了两个线程是互斥的。这其中的原因是因为 JS 可以修改 DOM，如果在 JS 执行的时候 UI 线程还在工作，就可能导致不能安全的渲染 UI，这其实也是一个单线程的好处，得益于 JS 是单线程运行的，可以达到**节省内存**，**节约上下文切换时间**，**没有锁**的问题的好处。当然前面两点在服务端中更容易体现，对于锁的问题，形象的来说就是当我读取一个数字 15 的时候，同时有两个操作对数字进行了加减，这时候结果就出现了错误。解决这个问题也不难，只需要在读取的时候加锁，直到读取完毕之前都不能进行写入操作。放在浏览器中可以这样解释，假如js是多线程的，当一个线程创建了一个dom元素时，而另一个线程把这个dom元素删除了,这样就会导致不安全的UI渲染。
